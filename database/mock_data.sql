-- ============================================
-- AI 心理干预效果预测系统 - Mock 数据
-- 模拟1000个真实用户的干预数据
-- 创建日期: 2025-10-28
-- ============================================

USE ai_predictor;

-- ============================================
-- 1. 插入用户数据（100个用户）
-- ============================================

-- 已完成的用户（80个）- 有完整的前测和后测数据
INSERT INTO users (name, age, gender, project_id, status) VALUES
-- 效果好的用户（打卡率高，改善明显）
('张明', 16, 1, 1, 1), ('李华', 15, 2, 1, 1), ('王芳', 17, 2, 1, 1), 
('刘强', 16, 1, 1, 1), ('陈静', 15, 2, 1, 1), ('杨帆', 18, 1, 1, 1),
('赵敏', 16, 2, 1, 1), ('孙伟', 17, 1, 1, 1), ('周洋', 15, 2, 1, 1),
('吴鹏', 16, 1, 1, 1), ('郑霞', 17, 2, 1, 1), ('王磊', 15, 1, 1, 1),
('林涛', 18, 1, 1, 1), ('黄婷', 16, 2, 1, 1), ('许强', 17, 1, 1, 1),
('马丽', 15, 2, 1, 1), ('朱峰', 16, 1, 1, 1), ('胡娟', 17, 2, 1, 1),
('郭亮', 15, 1, 1, 1), ('何敏', 18, 2, 1, 1),

-- 效果中等的用户（打卡率中等）
('冯勇', 16, 1, 1, 1), ('袁红', 15, 2, 1, 1), ('邓超', 17, 1, 1, 1),
('曾梅', 16, 2, 1, 1), ('彭浩', 18, 1, 1, 1), ('苏琳', 15, 2, 1, 1),
('卢刚', 17, 1, 1, 1), ('蒋萍', 16, 2, 1, 1), ('蔡明', 15, 1, 1, 1),
('丁丽', 18, 2, 1, 1), ('潘飞', 16, 1, 1, 1), ('韩梅', 17, 2, 1, 1),
('叶强', 15, 1, 1, 1), ('范洁', 16, 2, 1, 1), ('史伟', 18, 1, 1, 1),
('陆芳', 17, 2, 1, 1), ('廖鹏', 15, 1, 1, 1), ('薛静', 16, 2, 1, 1),
('谭勇', 17, 1, 1, 1), ('邹敏', 18, 2, 1, 1),

-- 效果较差的用户（打卡率低）
('顾峰', 16, 1, 1, 1), ('孟霞', 15, 2, 1, 1), ('秦亮', 17, 1, 1, 1),
('尹娟', 16, 2, 1, 1), ('黎浩', 18, 1, 1, 1), ('汤琳', 15, 2, 1, 1),
('贺刚', 17, 1, 1, 1), ('毛萍', 16, 2, 1, 1), ('龚明', 15, 1, 1, 1),
('熊丽', 18, 2, 1, 1), ('纪飞', 16, 1, 1, 1), ('舒梅', 17, 2, 1, 1),
('屈强', 15, 1, 1, 1), ('项洁', 16, 2, 1, 1), ('祝伟', 18, 1, 1, 1),
('董芳', 17, 2, 1, 1), ('梁鹏', 15, 1, 1, 1), ('杜静', 16, 2, 1, 1),
('阮勇', 17, 1, 1, 1), ('蓝敏', 18, 2, 1, 1),

-- 更多各种情况的用户
('颜峰', 16, 1, 1, 1), ('倪霞', 15, 2, 1, 1), ('严亮', 17, 1, 1, 1),
('牛娟', 16, 2, 1, 1), ('温浩', 18, 1, 1, 1), ('巫琳', 15, 2, 1, 1),
('井刚', 17, 1, 1, 1), ('管萍', 16, 2, 1, 1), ('甄明', 15, 1, 1, 1),
('应丽', 18, 2, 1, 1), ('詹飞', 16, 1, 1, 1), ('封梅', 17, 2, 1, 1),
('左强', 15, 1, 1, 1), ('栾洁', 16, 2, 1, 1), ('吉伟', 18, 1, 1, 1),
('饶芳', 17, 2, 1, 1), ('桂鹏', 15, 1, 1, 1), ('牧静', 16, 2, 1, 1),
('寇勇', 17, 1, 1, 1), ('戈敏', 18, 2, 1, 1);

-- 进行中的用户（20个）- 只有前测，用于演示预测
INSERT INTO users (name, age, gender, project_id, status) VALUES
('测试用户01', 16, 1, 1, 0), ('测试用户02', 15, 2, 1, 0), ('测试用户03', 17, 1, 1, 0),
('测试用户04', 16, 2, 1, 0), ('测试用户05', 18, 1, 1, 0), ('测试用户06', 15, 2, 1, 0),
('测试用户07', 17, 1, 1, 0), ('测试用户08', 16, 2, 1, 0), ('测试用户09', 15, 1, 1, 0),
('测试用户10', 18, 2, 1, 0), ('测试用户11', 16, 1, 1, 0), ('测试用户12', 17, 2, 1, 0),
('测试用户13', 15, 1, 1, 0), ('测试用户14', 16, 2, 1, 0), ('测试用户15', 18, 1, 1, 0),
('测试用户16', 17, 2, 1, 0), ('测试用户17', 15, 1, 1, 0), ('测试用户18', 16, 2, 1, 0),
('测试用户19', 17, 1, 1, 0), ('测试用户20', 18, 2, 1, 0);

-- ============================================
-- 2. 插入测评数据（前测+后测）
-- ============================================

-- 已完成用户的前测数据（焦虑量表GAD-7）
INSERT INTO assessments (user_id, scale_name, stage_type, score, test_date) VALUES
-- 效果好的用户：前测分数高，后测改善明显
(1, 'GAD-7', 1, 15.5, '2024-09-01'), (1, 'GAD-7', 4, 7.5, '2024-10-27'),
(2, 'GAD-7', 1, 16.0, '2024-09-01'), (2, 'GAD-7', 4, 8.0, '2024-10-27'),
(3, 'GAD-7', 1, 14.5, '2024-09-01'), (3, 'GAD-7', 4, 6.5, '2024-10-27'),
(4, 'GAD-7', 1, 17.0, '2024-09-01'), (4, 'GAD-7', 4, 8.5, '2024-10-27'),
(5, 'GAD-7', 1, 15.0, '2024-09-01'), (5, 'GAD-7', 4, 7.0, '2024-10-27'),
(6, 'GAD-7', 1, 18.0, '2024-09-01'), (6, 'GAD-7', 4, 9.0, '2024-10-27'),
(7, 'GAD-7', 1, 16.5, '2024-09-01'), (7, 'GAD-7', 4, 8.0, '2024-10-27'),
(8, 'GAD-7', 1, 15.5, '2024-09-01'), (8, 'GAD-7', 4, 7.5, '2024-10-27'),
(9, 'GAD-7', 1, 14.0, '2024-09-01'), (9, 'GAD-7', 4, 6.5, '2024-10-27'),
(10, 'GAD-7', 1, 17.5, '2024-09-01'), (10, 'GAD-7', 4, 9.0, '2024-10-27'),
(11, 'GAD-7', 1, 16.0, '2024-09-01'), (11, 'GAD-7', 4, 8.0, '2024-10-27'),
(12, 'GAD-7', 1, 15.0, '2024-09-01'), (12, 'GAD-7', 4, 7.5, '2024-10-27'),
(13, 'GAD-7', 1, 18.5, '2024-09-01'), (13, 'GAD-7', 4, 9.5, '2024-10-27'),
(14, 'GAD-7', 1, 16.5, '2024-09-01'), (14, 'GAD-7', 4, 8.5, '2024-10-27'),
(15, 'GAD-7', 1, 17.0, '2024-09-01'), (15, 'GAD-7', 4, 8.5, '2024-10-27'),
(16, 'GAD-7', 1, 14.5, '2024-09-01'), (16, 'GAD-7', 4, 7.0, '2024-10-27'),
(17, 'GAD-7', 1, 15.5, '2024-09-01'), (17, 'GAD-7', 4, 7.5, '2024-10-27'),
(18, 'GAD-7', 1, 16.0, '2024-09-01'), (18, 'GAD-7', 4, 8.0, '2024-10-27'),
(19, 'GAD-7', 1, 14.0, '2024-09-01'), (19, 'GAD-7', 4, 6.5, '2024-10-27'),
(20, 'GAD-7', 1, 17.5, '2024-09-01'), (20, 'GAD-7', 4, 9.0, '2024-10-27'),

-- 效果中等的用户：改善一般
(21, 'GAD-7', 1, 15.0, '2024-09-01'), (21, 'GAD-7', 4, 10.5, '2024-10-27'),
(22, 'GAD-7', 1, 16.0, '2024-09-01'), (22, 'GAD-7', 4, 11.0, '2024-10-27'),
(23, 'GAD-7', 1, 14.5, '2024-09-01'), (23, 'GAD-7', 4, 10.0, '2024-10-27'),
(24, 'GAD-7', 1, 17.0, '2024-09-01'), (24, 'GAD-7', 4, 12.0, '2024-10-27'),
(25, 'GAD-7', 1, 15.5, '2024-09-01'), (25, 'GAD-7', 4, 11.5, '2024-10-27'),
(26, 'GAD-7', 1, 16.5, '2024-09-01'), (26, 'GAD-7', 4, 12.0, '2024-10-27'),
(27, 'GAD-7', 1, 14.0, '2024-09-01'), (27, 'GAD-7', 4, 10.0, '2024-10-27'),
(28, 'GAD-7', 1, 18.0, '2024-09-01'), (28, 'GAD-7', 4, 13.0, '2024-10-27'),
(29, 'GAD-7', 1, 15.0, '2024-09-01'), (29, 'GAD-7', 4, 11.0, '2024-10-27'),
(30, 'GAD-7', 1, 16.0, '2024-09-01'), (30, 'GAD-7', 4, 11.5, '2024-10-27'),
(31, 'GAD-7', 1, 17.5, '2024-09-01'), (31, 'GAD-7', 4, 12.5, '2024-10-27'),
(32, 'GAD-7', 1, 14.5, '2024-09-01'), (32, 'GAD-7', 4, 10.5, '2024-10-27'),
(33, 'GAD-7', 1, 15.5, '2024-09-01'), (33, 'GAD-7', 4, 11.0, '2024-10-27'),
(34, 'GAD-7', 1, 16.5, '2024-09-01'), (34, 'GAD-7', 4, 12.0, '2024-10-27'),
(35, 'GAD-7', 1, 18.0, '2024-09-01'), (35, 'GAD-7', 4, 13.5, '2024-10-27'),
(36, 'GAD-7', 1, 14.0, '2024-09-01'), (36, 'GAD-7', 4, 10.0, '2024-10-27'),
(37, 'GAD-7', 1, 15.0, '2024-09-01'), (37, 'GAD-7', 4, 11.0, '2024-10-27'),
(38, 'GAD-7', 1, 16.0, '2024-09-01'), (38, 'GAD-7', 4, 12.0, '2024-10-27'),
(39, 'GAD-7', 1, 17.0, '2024-09-01'), (39, 'GAD-7', 4, 12.5, '2024-10-27'),
(40, 'GAD-7', 1, 15.5, '2024-09-01'), (40, 'GAD-7', 4, 11.5, '2024-10-27'),

-- 效果较差的用户：改善不明显
(41, 'GAD-7', 1, 15.0, '2024-09-01'), (41, 'GAD-7', 4, 13.5, '2024-10-27'),
(42, 'GAD-7', 1, 16.0, '2024-09-01'), (42, 'GAD-7', 4, 14.0, '2024-10-27'),
(43, 'GAD-7', 1, 14.5, '2024-09-01'), (43, 'GAD-7', 4, 13.0, '2024-10-27'),
(44, 'GAD-7', 1, 17.0, '2024-09-01'), (44, 'GAD-7', 4, 15.0, '2024-10-27'),
(45, 'GAD-7', 1, 18.0, '2024-09-01'), (45, 'GAD-7', 4, 16.5, '2024-10-27'),
(46, 'GAD-7', 1, 15.5, '2024-09-01'), (46, 'GAD-7', 4, 14.0, '2024-10-27'),
(47, 'GAD-7', 1, 16.5, '2024-09-01'), (47, 'GAD-7', 4, 15.0, '2024-10-27'),
(48, 'GAD-7', 1, 14.0, '2024-09-01'), (48, 'GAD-7', 4, 12.5, '2024-10-27'),
(49, 'GAD-7', 1, 17.5, '2024-09-01'), (49, 'GAD-7', 4, 16.0, '2024-10-27'),
(50, 'GAD-7', 1, 15.0, '2024-09-01'), (50, 'GAD-7', 4, 13.5, '2024-10-27'),
(51, 'GAD-7', 1, 16.0, '2024-09-01'), (51, 'GAD-7', 4, 14.5, '2024-10-27'),
(52, 'GAD-7', 1, 18.5, '2024-09-01'), (52, 'GAD-7', 4, 17.0, '2024-10-27'),
(53, 'GAD-7', 1, 15.5, '2024-09-01'), (53, 'GAD-7', 4, 14.0, '2024-10-27'),
(54, 'GAD-7', 1, 14.5, '2024-09-01'), (54, 'GAD-7', 4, 13.0, '2024-10-27'),
(55, 'GAD-7', 1, 16.5, '2024-09-01'), (55, 'GAD-7', 4, 15.0, '2024-10-27'),
(56, 'GAD-7', 1, 17.0, '2024-09-01'), (56, 'GAD-7', 4, 15.5, '2024-10-27'),
(57, 'GAD-7', 1, 15.0, '2024-09-01'), (57, 'GAD-7', 4, 13.5, '2024-10-27'),
(58, 'GAD-7', 1, 16.0, '2024-09-01'), (58, 'GAD-7', 4, 14.5, '2024-10-27'),
(59, 'GAD-7', 1, 18.0, '2024-09-01'), (59, 'GAD-7', 4, 16.5, '2024-10-27'),
(60, 'GAD-7', 1, 14.0, '2024-09-01'), (60, 'GAD-7', 4, 12.5, '2024-10-27'),

-- 更多用户数据（简化处理，批量插入）
(61, 'GAD-7', 1, 15.5, '2024-09-01'), (61, 'GAD-7', 4, 8.0, '2024-10-27'),
(62, 'GAD-7', 1, 16.0, '2024-09-01'), (62, 'GAD-7', 4, 11.0, '2024-10-27'),
(63, 'GAD-7', 1, 14.5, '2024-09-01'), (63, 'GAD-7', 4, 13.0, '2024-10-27'),
(64, 'GAD-7', 1, 17.0, '2024-09-01'), (64, 'GAD-7', 4, 9.0, '2024-10-27'),
(65, 'GAD-7', 1, 15.0, '2024-09-01'), (65, 'GAD-7', 4, 10.5, '2024-10-27'),
(66, 'GAD-7', 1, 18.0, '2024-09-01'), (66, 'GAD-7', 4, 14.0, '2024-10-27'),
(67, 'GAD-7', 1, 16.5, '2024-09-01'), (67, 'GAD-7', 4, 8.5, '2024-10-27'),
(68, 'GAD-7', 1, 15.5, '2024-09-01'), (68, 'GAD-7', 4, 11.5, '2024-10-27'),
(69, 'GAD-7', 1, 14.0, '2024-09-01'), (69, 'GAD-7', 4, 12.5, '2024-10-27'),
(70, 'GAD-7', 1, 17.5, '2024-09-01'), (70, 'GAD-7', 4, 9.5, '2024-10-27'),
(71, 'GAD-7', 1, 16.0, '2024-09-01'), (71, 'GAD-7', 4, 10.0, '2024-10-27'),
(72, 'GAD-7', 1, 15.0, '2024-09-01'), (72, 'GAD-7', 4, 13.0, '2024-10-27'),
(73, 'GAD-7', 1, 18.5, '2024-09-01'), (73, 'GAD-7', 4, 10.5, '2024-10-27'),
(74, 'GAD-7', 1, 16.5, '2024-09-01'), (74, 'GAD-7', 4, 11.0, '2024-10-27'),
(75, 'GAD-7', 1, 17.0, '2024-09-01'), (75, 'GAD-7', 4, 14.5, '2024-10-27'),
(76, 'GAD-7', 1, 14.5, '2024-09-01'), (76, 'GAD-7', 4, 7.5, '2024-10-27'),
(77, 'GAD-7', 1, 15.5, '2024-09-01'), (77, 'GAD-7', 4, 12.0, '2024-10-27'),
(78, 'GAD-7', 1, 16.0, '2024-09-01'), (78, 'GAD-7', 4, 13.5, '2024-10-27'),
(79, 'GAD-7', 1, 14.0, '2024-09-01'), (79, 'GAD-7', 4, 8.5, '2024-10-27'),
(80, 'GAD-7', 1, 17.5, '2024-09-01'), (80, 'GAD-7', 4, 15.0, '2024-10-27');

-- 进行中用户的前测数据（用于演示预测）
INSERT INTO assessments (user_id, scale_name, stage_type, score, test_date) VALUES
(81, 'GAD-7', 1, 15.0, '2024-10-01'),
(82, 'GAD-7', 1, 16.5, '2024-10-01'),
(83, 'GAD-7', 1, 14.0, '2024-10-01'),
(84, 'GAD-7', 1, 17.5, '2024-10-01'),
(85, 'GAD-7', 1, 18.0, '2024-10-01'),
(86, 'GAD-7', 1, 15.5, '2024-10-01'),
(87, 'GAD-7', 1, 16.0, '2024-10-01'),
(88, 'GAD-7', 1, 14.5, '2024-10-01'),
(89, 'GAD-7', 1, 17.0, '2024-10-01'),
(90, 'GAD-7', 1, 15.0, '2024-10-01');

-- ============================================
-- 3. 插入学习记录数据（8周数据）
-- ============================================

-- 为前80个已完成用户生成8周学习记录
-- 效果好的用户：高打卡率（user_id 1-20）
INSERT INTO learning_logs (user_id, week_number, checkin_count, study_duration, completed, log_date) 
SELECT 
    u.user_id,
    w.week_num,
    CASE 
        WHEN RAND() > 0.1 THEN 3  -- 90%的周打卡3次
        ELSE 2  -- 10%的周打卡2次
    END as checkin_count,
    ROUND(35 + RAND() * 15, 0) as study_duration,  -- 35-50分钟
    TRUE as completed,
    DATE_ADD('2024-09-01', INTERVAL w.week_num WEEK) as log_date
FROM users u
CROSS JOIN (
    SELECT 1 as week_num UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL 
    SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL 
    SELECT 7 UNION ALL SELECT 8
) w
WHERE u.user_id BETWEEN 1 AND 20;

-- 效果中等的用户：中等打卡率（user_id 21-40）
INSERT INTO learning_logs (user_id, week_number, checkin_count, study_duration, completed, log_date) 
SELECT 
    u.user_id,
    w.week_num,
    CASE 
        WHEN RAND() > 0.3 THEN 2  -- 70%的周打卡2次
        ELSE 1  -- 30%的周打卡1次
    END as checkin_count,
    ROUND(20 + RAND() * 15, 0) as study_duration,  -- 20-35分钟
    CASE WHEN RAND() > 0.2 THEN TRUE ELSE FALSE END as completed,
    DATE_ADD('2024-09-01', INTERVAL w.week_num WEEK) as log_date
FROM users u
CROSS JOIN (
    SELECT 1 as week_num UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL 
    SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL 
    SELECT 7 UNION ALL SELECT 8
) w
WHERE u.user_id BETWEEN 21 AND 40;

-- 效果较差的用户：低打卡率（user_id 41-60）
INSERT INTO learning_logs (user_id, week_number, checkin_count, study_duration, completed, log_date) 
SELECT 
    u.user_id,
    w.week_num,
    CASE 
        WHEN RAND() > 0.5 THEN 1  -- 50%的周打卡1次
        ELSE 0  -- 50%的周不打卡
    END as checkin_count,
    ROUND(10 + RAND() * 15, 0) as study_duration,  -- 10-25分钟
    CASE WHEN RAND() > 0.5 THEN TRUE ELSE FALSE END as completed,
    DATE_ADD('2024-09-01', INTERVAL w.week_num WEEK) as log_date
FROM users u
CROSS JOIN (
    SELECT 1 as week_num UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL 
    SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL 
    SELECT 7 UNION ALL SELECT 8
) w
WHERE u.user_id BETWEEN 41 AND 60;

-- 其他用户混合情况（user_id 61-80）
INSERT INTO learning_logs (user_id, week_number, checkin_count, study_duration, completed, log_date) 
SELECT 
    u.user_id,
    w.week_num,
    FLOOR(RAND() * 3) + 1 as checkin_count,  -- 1-3次
    ROUND(15 + RAND() * 25, 0) as study_duration,  -- 15-40分钟
    CASE WHEN RAND() > 0.3 THEN TRUE ELSE FALSE END as completed,
    DATE_ADD('2024-09-01', INTERVAL w.week_num WEEK) as log_date
FROM users u
CROSS JOIN (
    SELECT 1 as week_num UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL 
    SELECT 4 UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL 
    SELECT 7 UNION ALL SELECT 8
) w
WHERE u.user_id BETWEEN 61 AND 80;

-- 为进行中的用户生成前3周数据（用于演示预测）
INSERT INTO learning_logs (user_id, week_number, checkin_count, study_duration, completed, log_date) 
SELECT 
    u.user_id,
    w.week_num,
    FLOOR(RAND() * 3) + 1 as checkin_count,
    ROUND(20 + RAND() * 20, 0) as study_duration,
    CASE WHEN RAND() > 0.3 THEN TRUE ELSE FALSE END as completed,
    DATE_ADD('2024-10-01', INTERVAL w.week_num WEEK) as log_date
FROM users u
CROSS JOIN (
    SELECT 1 as week_num UNION ALL SELECT 2 UNION ALL SELECT 3
) w
WHERE u.user_id BETWEEN 81 AND 90;

-- ============================================
-- 数据验证查询
-- ============================================

-- 查看数据统计
SELECT '用户总数' as item, COUNT(*) as count FROM users
UNION ALL
SELECT '已完成用户', COUNT(*) FROM users WHERE status = 1
UNION ALL
SELECT '进行中用户', COUNT(*) FROM users WHERE status = 0
UNION ALL
SELECT '测评记录数', COUNT(*) FROM assessments
UNION ALL
SELECT '学习记录数', COUNT(*) FROM learning_logs;

