# ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

## ğŸ¯ é¡¹ç›®åç§°

**AI å¿ƒç†å¹²é¢„æ•ˆæœé¢„æµ‹ç³»ç»Ÿ** - ä¸“ä¸šç‰ˆ v2.0

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
ai-intervention-predictor/
â”œâ”€â”€ ğŸ“„ README.md              # ä¸»æ–‡æ¡£ï¼ˆå®Œæ•´éƒ¨ç½²æŒ‡å—ï¼‰
â”œâ”€â”€ ğŸ“„ .env.example           # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ ğŸ“„ docker-compose.yml     # Docker ç¼–æ’é…ç½®
â”œâ”€â”€ ğŸ“„ nginx.conf             # Nginx åå‘ä»£ç†é…ç½®
â”‚
â”œâ”€â”€ ğŸ”§ manage.sh              # ç»Ÿä¸€ç®¡ç†è„šæœ¬ï¼ˆå¯åŠ¨/åœæ­¢/çŠ¶æ€ï¼‰
â”œâ”€â”€ ğŸ”§ start-server.sh        # å¯åŠ¨æœåŠ¡è„šæœ¬
â”œâ”€â”€ ğŸ”§ stop-server.sh         # åœæ­¢æœåŠ¡è„šæœ¬
â”œâ”€â”€ ğŸ”§ switch_ai.sh           # AI é…ç½®åˆ‡æ¢è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“¦ pack-docker.sh         # Docker éƒ¨ç½²æ‰“åŒ…è„šæœ¬
â”œâ”€â”€ ğŸ“¦ pack-simple.sh         # ç›´æ¥éƒ¨ç½²æ‰“åŒ…è„šæœ¬
â”‚
â”œâ”€â”€ ï¿½ï¿½ backend/               # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ main.py              # FastAPI ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ ai_service.py        # AI æœåŠ¡ï¼ˆæ”¯æŒå¤šæ¨¡å‹ï¼‰
â”‚   â”œâ”€â”€ database.py          # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ requirements.txt     # Python ä¾èµ–
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/              # å‰ç«¯ä»£ç 
â”‚   â””â”€â”€ index.html           # å•é¡µé¢åº”ç”¨ï¼ˆå“åº”å¼è®¾è®¡ï¼‰
â”‚
â”œâ”€â”€ ğŸ“‚ database/              # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ schema.sql           # æ•°æ®åº“è¡¨ç»“æ„
â”‚   â”œâ”€â”€ mock_data.sql        # æ¨¡æ‹Ÿæ•°æ®ï¼ˆ200ä¸ªç”¨æˆ·ï¼‰
â”‚   â””â”€â”€ README.md            # æ•°æ®åº“è¯´æ˜
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                  # æ–‡æ¡£èµ„æ–™
â”‚   â””â”€â”€ PPTæ¼”ç¤ºæ–‡ç¨¿å†…å®¹.pptx # é¡¹ç›®æ¼”ç¤º PPT
â”‚
â””â”€â”€ ğŸ“‚ logs/                  # æ—¥å¿—ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

---

## ğŸš€ éƒ¨ç½²æ–¹å¼

### 1ï¸âƒ£ æœ¬åœ°å¼€å‘

**å¿«é€Ÿå¯åŠ¨**ï¼š
```bash
# ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
./manage.sh start

# æŸ¥çœ‹çŠ¶æ€
./manage.sh status

# åœæ­¢æœåŠ¡
./manage.sh stop
```

**æ‰‹åŠ¨å¯åŠ¨**ï¼š
```bash
cd backend
python3 main.py
```

**è®¿é—®**ï¼š
- å‰ç«¯ï¼šç›´æ¥æ‰“å¼€ `frontend/index.html`
- åç«¯ï¼šhttp://localhost:8000
- APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

---

### 2ï¸âƒ£ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

**ä¼˜åŠ¿**ï¼š
- âœ… ç¯å¢ƒéš”ç¦»
- âœ… ä¸€é”®éƒ¨ç½²
- âœ… èµ„æºé™åˆ¶
- âœ… è‡ªåŠ¨é‡å¯

**æ­¥éª¤**ï¼š
```bash
# 1. æ‰“åŒ…
./pack-docker.sh

# 2. ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp ../ai-intervention-predictor-docker.tar.gz root@æœåŠ¡å™¨IP:/home/

# 3. æœåŠ¡å™¨è§£å‹å¹¶å¯åŠ¨
cd /home && tar -xzf ai-intervention-predictor-docker.tar.gz
mv ai-intervention-predictor-docker ai-predictor
cd ai-predictor
nano .env  # ä¿®æ”¹æ•°æ®åº“å’Œ API Key
docker-compose up -d
```

**è®¿é—®**ï¼š
- å‰ç«¯ï¼šhttp://æœåŠ¡å™¨IP:3000
- åç«¯ï¼šhttp://æœåŠ¡å™¨IP:3001

**è¯¦ç»†æ–‡æ¡£**ï¼šè§ `README.md` çš„ "ğŸ³ Docker éƒ¨ç½²" ç« èŠ‚

---

### 3ï¸âƒ£ ç›´æ¥æœåŠ¡å™¨éƒ¨ç½²

**é€‚ç”¨åœºæ™¯**ï¼šæ—  Docker ç¯å¢ƒçš„ä¼ ç»ŸæœåŠ¡å™¨

**æ­¥éª¤**ï¼š
```bash
# 1. æ‰“åŒ…
./pack-simple.sh

# 2. ä¸Šä¼ å¹¶è§£å‹
scp ../ai-intervention-predictor-simple.tar.gz root@æœåŠ¡å™¨IP:/home/
cd /home && tar -xzf ai-intervention-predictor-simple.tar.gz
cd ai-intervention-predictor

# 3. å®‰è£…ä¾èµ–
yum install python3 nginx mysql -y  # CentOS
apt install python3 nginx mysql-client -y  # Ubuntu

# 4. å¯åŠ¨æœåŠ¡
./start-server.sh
```

**è¯¦ç»†æ–‡æ¡£**ï¼šè§ `README.md` çš„ "ğŸš€ æœåŠ¡å™¨éƒ¨ç½²" ç« èŠ‚

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ï¼ˆ`.env` æ–‡ä»¶ï¼‰

**å¿…é¡»é…ç½®**ï¼š
```bash
DB_HOST=æ•°æ®åº“IP          # æœ¬åœ°ï¼š127.0.0.1 / Dockerï¼š172.17.0.1
DB_PASSWORD=æ•°æ®åº“å¯†ç 
AI_API_KEY=ä½ çš„AI_API_Key  # å¿…é¡»æ›¿æ¢
```

**å¯é€‰é…ç½®**ï¼š
- `AI_PROVIDER`: åˆ‡æ¢ AI æä¾›å•†ï¼ˆsiliconflow/deepseek/openai/ollamaï¼‰
- `AI_MODEL`: AI æ¨¡å‹åç§°
- `DB_NAME`: æ•°æ®åº“åç§°ï¼ˆé»˜è®¤ï¼šai_predictorï¼‰

**å¿«é€Ÿåˆ‡æ¢ AI**ï¼š
```bash
./switch_ai.sh
```

---

## ğŸ“Š æ ¸å¿ƒåŠŸèƒ½

1. **AI æ•ˆæœé¢„æµ‹** - åŸºäºå‰3å‘¨æ•°æ®é¢„æµ‹8å‘¨åæ•ˆæœ
2. **é£é™©è¯†åˆ«** - è‡ªåŠ¨åˆ†ç±»ä½/ä¸­/é«˜é£é™©ç”¨æˆ·
3. **ä¸ªæ€§åŒ–å»ºè®®** - AI ç”Ÿæˆé’ˆå¯¹æ€§å¹²é¢„æ–¹æ¡ˆ
4. **æ•°æ®å¯è§†åŒ–** - Chart.js è¶‹åŠ¿å›¾è¡¨
5. **å“åº”å¼è®¾è®¡** - é€‚é…æ‰‹æœº/å¹³æ¿/ç”µè„‘
6. **å¤šé‡è¡¨æ”¯æŒ** - GAD-7 / PHQ-9 / PSS
7. **æ¼”ç¤ºé…ç½®** - è‡ªå®šä¹‰é‡è¡¨å’Œæ‰¹é‡ç”Ÿæˆæ•°æ®

---

## ğŸ› ï¸ ç®¡ç†å·¥å…·

| å·¥å…· | ç”¨é€” | å‘½ä»¤ |
|------|------|------|
| `manage.sh` | ç»Ÿä¸€ç®¡ç† | `./manage.sh {start\|stop\|restart\|status\|logs}` |
| `switch_ai.sh` | åˆ‡æ¢ AI | `./switch_ai.sh` |
| `pack-docker.sh` | Docker æ‰“åŒ… | `./pack-docker.sh` |
| `pack-simple.sh` | ç›´æ¥éƒ¨ç½²æ‰“åŒ… | `./pack-simple.sh` |

---

## ğŸ“– æ–‡æ¡£ç´¢å¼•

- **ä¸»æ–‡æ¡£**ï¼š`README.md` - å®Œæ•´çš„å®‰è£…ã€é…ç½®ã€éƒ¨ç½²æŒ‡å—
- **æ•°æ®åº“æ–‡æ¡£**ï¼š`database/README.md` - æ•°æ®åº“ç»“æ„è¯´æ˜
- **Dockeré…ç½®**ï¼š`docker-compose.yml` - Docker ç¼–æ’é…ç½®ï¼ˆå«è¯¦ç»†æ³¨é‡Šï¼‰
- **Nginxé…ç½®**ï¼š`nginx.conf` - åå‘ä»£ç†é…ç½®

---

## ğŸ¯ å¿«é€Ÿé“¾æ¥

**æœ¬åœ°å¼€å‘**ï¼š
```bash
./manage.sh start
```

**Dockeréƒ¨ç½²**ï¼š
```bash
./pack-docker.sh
# è¯¦è§ README.md ç¬¬ 564-867 è¡Œ
```

**ç›´æ¥éƒ¨ç½²**ï¼š
```bash
./pack-simple.sh
# è¯¦è§ README.md ç¬¬ 395-563 è¡Œ
```

**AIé…ç½®åˆ‡æ¢**ï¼š
```bash
./switch_ai.sh
# è¯¦è§ README.md ç¬¬ 222-268 è¡Œ
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **é¡¹ç›®æ–‡æ¡£**ï¼š`README.md`
- **å¸¸è§é—®é¢˜**ï¼š`README.md` ç¬¬ 869+ è¡Œ
- **Dockeré—®é¢˜**ï¼š`README.md` ç¬¬ 748-865 è¡Œ

---

## âœ… å·²æ¸…ç†æ–‡ä»¶

ä»¥ä¸‹å†—ä½™æ–‡ä»¶å·²åˆ é™¤ï¼š
- âŒ `nginx-simple.conf` - å·²åˆå¹¶åˆ° `nginx.conf`
- âŒ `server.log` / `server.pid` - è¿è¡Œæ—¶ç”Ÿæˆ
- âŒ `éƒ¨ç½²æˆåŠŸ.md` - ä¸´æ—¶æ–‡æ¡£
- âŒ å…¶ä»–ä¸´æ—¶ `.md` æ–‡æ¡£ - å·²æ•´åˆåˆ° `README.md`

---

## ğŸ‰ é¡¹ç›®çŠ¶æ€

âœ… **ä»£ç å®Œæ•´** - å‰ç«¯ã€åç«¯ã€æ•°æ®åº“è„šæœ¬é½å…¨  
âœ… **æ–‡æ¡£å®Œå–„** - README åŒ…å«æ‰€æœ‰éƒ¨ç½²æ–¹å¼  
âœ… **å·¥å…·é½å…¨** - ç®¡ç†è„šæœ¬ã€æ‰“åŒ…è„šæœ¬ã€åˆ‡æ¢è„šæœ¬  
âœ… **å·²ç”Ÿäº§éƒ¨ç½²** - Docker åœ¨æœåŠ¡å™¨ `101.42.230.29` è¿è¡Œä¸­  
âœ… **æ–‡ä»¶æ¸…ç†** - å·²åˆ é™¤æ‰€æœ‰å†—ä½™æ–‡ä»¶  

**å½“å‰ç‰ˆæœ¬**ï¼šv2.0 ä¸“ä¸šç‰ˆ  
**æœ€åæ›´æ–°**ï¼š2025-10-28
